<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grocery List Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="header-top">
                <h1>ğŸ›’ Grocery List Manager</h1>
                <button id="darkModeToggle" class="btn btn-icon" title="Toggle Dark Mode">ğŸŒ™</button>
            </div>
            <div class="list-selector">
                <select id="listSelector">
                    <option value="">Select a list...</option>
                </select>
                <button id="newListBtn" class="btn btn-primary">+ New List</button>
                <button id="newListFromTemplateBtn" class="btn btn-secondary" title="New from Template">ğŸ“‹ Template</button>
                <button id="importListBtn" class="btn btn-secondary" title="Import List">ğŸ“¥ Import</button>
            </div>
            <div class="list-filter-tabs">
                <button id="showAllListsBtn" class="tab-btn active">All Lists</button>
                <button id="showArchivedListsBtn" class="tab-btn">Archived</button>
            </div>
        </header>

        <main id="mainContent" style="display: none;">
            <div class="list-controls">
                <h2 id="currentListName"></h2>
                <div class="list-actions">
                    <button id="shoppingModeBtn" class="btn btn-primary">ğŸ›ï¸ Shopping Mode</button>
                    <button id="printListBtn" class="btn btn-secondary" title="Print List">ğŸ–¨ï¸ Print</button>
                    <button id="exportListBtn" class="btn btn-secondary" title="Export List">ğŸ’¾ Export</button>
                    <button id="renameListBtn" class="btn btn-secondary">Rename</button>
                    <button id="archiveListBtn" class="btn btn-secondary" title="Archive List">ğŸ“¦ Archive</button>
                    <button id="deleteListBtn" class="btn btn-danger">Delete</button>
                </div>
            </div>

            <div class="add-item-section">
                <h3>Add Item</h3>
                <form id="addItemForm">
                    <div class="form-group">
                        <input type="text" id="itemName" placeholder="Item name" required list="itemSuggestions">
                        <datalist id="itemSuggestions"></datalist>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <input type="text" id="itemQuantity" placeholder="Quantity (e.g., 2, 1kg)" value="1">
                        </div>
                        <div class="form-group">
                            <select id="itemCategory" required>
                                <option value="Produce">ğŸ¥¬ Produce</option>
                                <option value="Dairy">ğŸ¥› Dairy</option>
                                <option value="Meat">ğŸ¥© Meat</option>
                                <option value="Bakery">ğŸ Bakery</option>
                                <option value="Frozen">â„ï¸ Frozen</option>
                                <option value="Pantry">ğŸ¥« Pantry</option>
                                <option value="Beverages">ğŸ¥¤ Beverages</option>
                                <option value="Snacks">ğŸ¿ Snacks</option>
                                <option value="Other">ğŸ“¦ Other</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <select id="itemPriority">
                                <option value="normal">Normal</option>
                                <option value="high">â­ Must Have</option>
                                <option value="low">Nice to Have</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary">Add</button>
                    </div>
                    <div class="form-group">
                        <textarea id="itemNotes" placeholder="Notes (optional)" rows="2"></textarea>
                    </div>
                </form>
                <div class="quick-add-section">
                    <h4>Quick Add</h4>
                    <div id="quickAddButtons" class="quick-add-buttons"></div>
                    <div id="favoritesSection" class="favorites-section">
                        <h4>Favorites</h4>
                        <div id="favoritesButtons" class="quick-add-buttons"></div>
                    </div>
                </div>
            </div>

            <div class="filter-section">
                <label for="categoryFilter">Filter by category:</label>
                <select id="categoryFilter">
                    <option value="all">All Categories</option>
                    <option value="Produce">ğŸ¥¬ Produce</option>
                    <option value="Dairy">ğŸ¥› Dairy</option>
                    <option value="Meat">ğŸ¥© Meat</option>
                    <option value="Bakery">ğŸ Bakery</option>
                    <option value="Frozen">â„ï¸ Frozen</option>
                    <option value="Pantry">ğŸ¥« Pantry</option>
                    <option value="Beverages">ğŸ¥¤ Beverages</option>
                    <option value="Snacks">ğŸ¿ Snacks</option>
                    <option value="Other">ğŸ“¦ Other</option>
                </select>
                <div class="stats">
                    <span id="itemStats">0 items</span>
                </div>
            </div>

            <div class="items-section">
                <div class="active-items">
                    <div class="section-header">
                        <h3>Shopping List</h3>
                        <div class="bulk-actions" id="bulkActions" style="display: none;">
                            <button id="bulkSelectAllBtn" class="btn btn-secondary btn-sm">Select All</button>
                            <button id="bulkMarkPurchasedBtn" class="btn btn-primary btn-sm">Mark Purchased</button>
                            <button id="bulkDeleteBtn" class="btn btn-danger btn-sm">Delete Selected</button>
                            <button id="bulkCancelBtn" class="btn btn-secondary btn-sm">Cancel</button>
                        </div>
                        <button id="bulkSelectModeBtn" class="btn btn-secondary btn-sm">Select Multiple</button>
                    </div>
                    <ul id="activeItemsList" class="items-list">
                    </ul>
                </div>

                <div class="completed-items">
                    <div class="section-header">
                        <h3>Purchased</h3>
                        <button id="clearCompletedBtn" class="btn btn-secondary btn-sm">Clear Completed</button>
                    </div>
                    <ul id="completedItemsList" class="items-list">
                    </ul>
                </div>
            </div>
        </main>

        <div id="emptyState" class="empty-state">
            <p>ğŸ‘‹ Welcome to Grocery List Manager!</p>
            <p>Create a new list to get started.</p>
        </div>
    </div>

    <!-- Modals -->
    <div id="templateModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>List Templates</h2>
                <button class="modal-close" id="closeTemplateModal">âœ•</button>
            </div>
            <div class="modal-body">
                <div class="template-actions">
                    <button id="saveAsTemplateBtn" class="btn btn-primary">Save Current List as Template</button>
                </div>
                <div id="templatesList" class="templates-list"></div>
            </div>
        </div>
    </div>

    <div id="importModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Import List</h2>
                <button class="modal-close" id="closeImportModal">âœ•</button>
            </div>
            <div class="modal-body">
                <p>Paste JSON or CSV data:</p>
                <textarea id="importData" rows="10" placeholder='JSON: {"name":"List Name","items":[...]}&#10;CSV: Item Name,Quantity,Category'></textarea>
                <div class="modal-actions">
                    <button id="importSubmitBtn" class="btn btn-primary">Import</button>
                    <button id="importFileBtn" class="btn btn-secondary">Import from File</button>
                    <input type="file" id="importFileInput" accept=".json,.csv" style="display: none;">
                </div>
            </div>
        </div>
    </div>

    <!-- Shopping Mode Overlay -->
    <div id="shoppingModeOverlay" class="shopping-mode-overlay" style="display: none;">
        <div class="shopping-mode-header" id="shoppingModeHeader">
            <h2 id="shoppingModeListName"></h2>
            <div class="shopping-mode-header-actions">
                <button id="superFullScreenBtn" class="btn btn-super-fullscreen" title="Super Full Screen">â›¶</button>
                <button id="exitShoppingModeBtn" class="btn btn-exit">âœ• Exit</button>
            </div>
        </div>
        <div class="shopping-mode-mini-header" id="shoppingModeMiniHeader" style="display: none;">
            <span id="shoppingModeMiniStats"></span>
            <div class="mini-header-actions">
                <button id="exitSuperFullScreenBtn" class="btn btn-exit-mini">âœ•</button>
            </div>
        </div>
        <div class="shopping-mode-content">
            <div class="shopping-mode-stats" id="shoppingModeStatsContainer">
                <span id="shoppingModeStats"></span>
            </div>
            <ul id="shoppingModeItemsList" class="shopping-mode-items">
            </ul>
            <div class="shopping-mode-completed" id="shoppingModeCompletedContainer">
                <h3>âœ“ Purchased</h3>
                <ul id="shoppingModeCompletedList" class="shopping-mode-items">
                </ul>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>

